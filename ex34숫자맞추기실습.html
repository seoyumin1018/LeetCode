<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Do+Hyeon:400" rel="stylesheet">
    <style>
        body{
            background: url("https://media.istockphoto.com/photos/clear-blue-sky-as-a-background-wallpaper-pastel-sky-wallpaper-picture-id608634136?k=20&m=608634136&s=170667a&w=0&h=QqB80Ci9iSHOw0OjdM1fNbEeDrSvHG7-YuXNf_TcQnE=");
            background-repeat: no-repeat;
            background-size: cover;
            text-align: center;
            height: 100vh;
            font-family: "do hyeon";
        }
        .container{
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            padding: 50px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 25px;
            box-shadow: rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px;
        }
        #result-area,
        #chance-area {
            font-size: 1.5em;
        }
        #user-input {
            width: 300px;
            height: 50px;
            font-size: 1.5em;
            text-align: center;
            margin-top: 10px;
            outline: 0;
            border: 0;
            border-radius: 10px;
        }
        #btn-area{
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</h1>

        <div id="result-area">ê²°ê³¼ê°’ì´ ì—¬ê¸° ë‚˜ì˜µë‹ˆë‹¤!</div>
        <div id="chance-area">ë‚¨ì€ ê¸°íšŒ:5ë²ˆ</div>

        <input type="text" id="user-input">
        
        <div id="btn-area">
            <button id="play-button" class="btn btn-success">í™•ì¸</button>
            <button id="reset-button" class="btn btn-danger">ì´ˆê¸°í™”</button>
        </div>

    </div>

    <!-- JavaScript -->
    <script>
        let computerNum = parseInt(Math.random()*100)+1;
        let chance = 5;
        let history = []; // ì´ì „ì— ì…ë ¥í•œ ìˆ«ìë¥¼ ë³´ê´€í•˜ëŠ” ë°°ì—´
        console.log(computerNum);

        const userInput = document.getElementById("user-input")
        const playButton = document.getElementById("play-button")
        const resultArea = document.getElementById('result-area');
        const chanceArea = document.getElementById('chance-area');
        const resetButton = document.getElementById('reset-button');

        // í™•ì¸ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ë™ì‘í•˜ëŠ” ì´ë²¤íŠ¸
        playButton.addEventListener('click', ()=>{
            console.log(userInput.value);

            // ìœ ì €ê°€ ì…ë ¥í•œ ê°’ì„ ì •ìˆ˜ë¡œ ë³€í™˜í•´ì„œ ì €ì¥
            let user = parseInt(userInput.value);

            // 1~100 ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ìˆ«ìì¸ì§€ íŒë³„
            if(user > 100 || user < 1){
                resultArea.innerText = '1~100 ë²”ìœ„ë¥¼ ë²—ì–´ë‚œ ìˆ«ìì´ë‹ˆ ë‹¤ì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”!'
                
                // í•¨ìˆ˜ì—ì„œ returnë¬¸ : ê°’ì„ ë°˜í™˜í•œë‹¤ëŠ” ì˜ë¯¸!
                // ì¡°ê±´ë¬¸ì—ì„œ returnë¬¸ : ì´í›„ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ì§€ ì•Šê² ë‹¤ëŠ” ì˜ë¯¸!
                return; 
            }

            // ì´ì „ì— ì…ë ¥í•œ ìˆ«ìì¸ì§€ íŒë³„
            if(history.includes(user)){
                resultArea.innerText = 'ì´ì „ì— ì…ë ¥í•œ ìˆ«ìì´ë‹ˆ ë‹¤ì‹œ ì…ë ¥í•´ ì£¼ì„¸ìš”!'
                return;
            }

            // ìœ ì €ê°€ ì…ë ¥í•œ ê°’ê³¼ ëœë¤ìˆ«ìë¥¼ ë¹„êµí•˜ëŠ” ë¡œì§
            if(user === computerNum){
                // "ì •ë‹µì…ë‹ˆë‹¤! ë‚´ìš©ì„ ì›¹í˜ì´ì§€ì— ì¶œë ¥"
                resultArea.innerText = 'ì •ë‹µì…ë‹ˆë‹¤! ğŸ‘';
                playButton.disabled = true;
            }else if(user > computerNum){
                resultArea.innerText = 'ì…ë ¥í•œ ìˆ«ìë³´ë‹¤ ì‘ì€ ìˆ˜ ì…ë‹ˆë‹¤.'
                chanceArea.innerText = `ë‚¨ì€ ê¸°íšŒ : ${chance -= 1}ë²ˆ`;

            }else{
                resultArea.innerText = 'ì…ë ¥í•œ ìˆ«ìë³´ë‹¤ í° ìˆ˜ ì…ë‹ˆë‹¤.'
                chanceArea.innerText = `ë‚¨ì€ ê¸°íšŒ : ${chance -= 1}ë²ˆ`;
            }

            history.push(user);
            console.log("ì´ì „ì— ì…ë ¥í•œ ìˆ«ì:",history);

            if(chance === 0){
                resultArea.innerText = 'ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤ ğŸ˜‘';

                // í™•ì¸ë²„íŠ¼ì„ í´ë¦­í•˜ì§€ ëª»í•˜ë„ë¡ ë¹„í™œì„±í™”
                playButton.disabled = true;
            }
            
        })

        // ì´ˆê¸°í™”ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ë™ì‘í•˜ëŠ” ì´ë²¤íŠ¸
        // - ë‚¨ì€ê¸°íšŒ, ë°°ì—´, ë²„íŠ¼, ì›¹í˜ì´ì§€ ë‚´ìš©, ëœë¤ìˆ«ììƒì„±
        resetButton.addEventListener('click',()=>{
            chance = 5;
            chanceArea.innerText = `ë‚¨ì€ ê¸°íšŒ: ${chance}ë²ˆ`
            playButton.disabled = false;
            history =[];
            computerNum = parseInt(Math.random()*100)+1;
        });
    </script>
</body>
</html>